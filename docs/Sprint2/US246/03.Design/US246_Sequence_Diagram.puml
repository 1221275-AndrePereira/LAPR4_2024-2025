@startuml

title <size:20>Sequence Diagram US246</size>

skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor ShowDesigner as Actor
participant ":EditFigureCategoryUI" as UI <<presentation>>
participant ":FigureCategoryController" as Controller <<application>>
participant ":FigureCategory" as Domain <<domain>>
participant FigureCategoryCatalogue <<repository>>

activate Actor
Actor -> UI: Requests to edit a figure category
activate UI

    UI -> Controller**: create
    activate Controller

    UI --> Actor: Ask for current name, new name, and new description
    Actor -> UI: Provides current name, new name, new description

    UI -> Controller: editFigureCategory(currentName, newName, newDescription)
        Controller -> FigureCategoryCatalogue: searchFigureCategoryByName(currentName)
        activate FigureCategoryCatalogue
        FigureCategoryCatalogue --> Controller: figureCategory
        deactivate FigureCategoryCatalogue

        Controller -> Domain: updateName(newName)
        activate Domain
        Controller -> Domain: updateDescription(newDescription)
        Controller -> Domain: updateLastUpdateDate(currentDate)
        deactivate Domain

        Controller -> FigureCategoryCatalogue: save(updatedFigureCategory)
        activate FigureCategoryCatalogue
        FigureCategoryCatalogue --> Controller: updatedFigureCategory
        deactivate FigureCategoryCatalogue
    Controller --> UI: updatedFigureCategory
    deactivate Controller

    UI --> Actor: Success message

deactivate UI
deactivate Actor

@enduml