@startuml
'https://plantuml.com/class-diagram



package " Customer" #fff37a{
object Customer<<Entity>><<Root>>{
	-Company :String
}

object Address <<Value Object>>{
   -Address :String
}

object ShodroneEmail<<Value Object>>{
-Email :String
}

object PhoneNumber <<Value Object>>{
   -Number :String
}

object VATnumber <<Value Object>>{
   -Number :String
}

object CompanyEmail <<Value Object>>{
-Email :String
}


object Status <<Value Object>>{
 -Status :Enum
}

object CustomerRepresentative <<Entity>>{
-Name :String
-CompanyPosition :String

}

}

package "Figure " #88ee88{
object Figure <<Entity>> <<Root>>{
    -author:SystemUser
    -creationDate:LocalDate
    -isActive:boolean
}

object Keyword <<Value Object>>{
    -keyword : String
}

object CodePath <<Value Object>>{
    -path : String
}


object dslVersion <<Value Object>>{
 -version: Version
}

object figureVersion <<Value Object>>{
 -version: Version
}

object Description <<Value Object>>{
    -description :String
}
}

package "Figure Category" #bbffaa{
object FigureCategory <<Entity>> <<Root>>{
    -Description :String
}

object FigureCategoryName <<Value Object>>{
    -Name :String
}

object FigureCategoryStatus <<Value Object>>{
    -Status :String
}

object FigureCategoryCreationDate <<Value Object>>{
    -Date :Date
}

object FigureCategoryLastdateDate <<Value Object>>{
    -Date :Date
}

}
package "Drone " #ffb5a3 {
object Drone <<Entity>> <<Root>>{
    -RemovalReason :String
}


object DroneStatus <<Value Object>>{
 -Status :String
}

object DroneRemovalDate <<Value Object>>{
-Date :date
}

object SerialNumber <<Value Object>>{
 -Number :String
}


}

package "Drone Model" #ffa3a3{
object DroneModel <<Root>> <<Entity>>{
 -Name :String
}
object DroneLanguage<<Value Object>>{
    -Name :Enum
}
object WindToleranceProfile <<Value Object>> {
    -MaxSafeOperatingWindSpeed :double
}
object WindToleranceStep <<Value Object>> {
    -MinWindSpeed :double
    -MaxWindSpeed :double
    -DeviationInMeters :double
}

}

package "Show Request" #7a91ff{
object ShowRequest <<Entity>><<Root>>{
    -Description :String
    -NumberOfDrones :int
}

object RequestCreationDate<<Value Object>>{
    -Date :Date
}

object RequestShowDate<<Value Object>>{
    -Date :Date
}

object RequestDuration<<Value Object>>{
    -Duration :int
}

object RequestPlace<<Value Object>>{
    -Place :String
}

}

package "Show Proposal" #9bc8ff{
    object ShowProposal <<Entity>> <<Root>>{
        -Description :String
        -AcceptanceEmailContent :String
        -creationDate :LocalDateTime
        -AcceptanceDate :String
        -DroneInventory :Map<DroneModel, NumberOfDrones>

    }

    object ProposalStatus <<Value Object>> {
        -Status: Enum
    }

    object ProposalVideoLink <<Value Object>> {
        -Link :String
    }

    object ProposedShowDate<<Value Object>>{
        -date :LocaDateTime
    }

    object ProposedDuration<<Value Object>>{
        -Duration :int
    }

    object ProposedNDrones<<Value Object>>{
        -Number :int
    }
    object ProposedPlace<<Value Object>>{
        -longitude: float
        -latitude: float
    }

    object ProposalFigures <<Value Object>>{
    }

   object Insurance <<Value Object>> {
       -Insurance :Int
   }

   object DroneTypeSettings <<Value Object>> {

   }

  object SimulationReport<<Entity>>{
       -path :String
       -creationDate :Date

   }

   object ReportPath{
    path :String
   }

   object SimulationResult{
    simulationResult : Enum
   }

   object DroneInstructions <<Value Object>> {
        -PathToCode :String
   }

   object ProposalDronesModel <<Value Object>> {

   }
   
   object ProposalDocument<<Value Object>>{
       -filePath :String
   }
}

package "Maintenance Record" #ffccaa{
object MaintenanceRecord <<Entity>> <<Root>>{

}
object MaintenanceRecordDate<<Value Object>>{
    -Date :Date
}
object MaintenanceRecordDuration <<Value Object>>{
-Duration :int
}
object MaintenanceRecordDescription <<Value Object>>{
    -Description :String
}
}

package "Maintenance Type" #ffeebb{
object MaintenanceType<<Entity>> <<Root>>{

}
object MaintenanceTypeName <<Value Object>>{
-Name :String
}

}

package "Proposal Document Template" #d0d0ff{
object ProposalDocumentTemplate<<Aggregate Root>>{
- name: String
- filePath: String

}

}

' --------------------- WITHIN AGGREGATE RELATIONS -------------------------------

Customer "1" -up-> "1" Status :has
CustomerRepresentative "1"-up->"1" Status :has
Customer "1"-up->"1" PhoneNumber :has
Customer "1"-up->"1" VATnumber :has
Customer "1"-up->"1" Address :has
Customer "1"-up-> "1" ShodroneEmail:has
CustomerRepresentative "1"-up->"1" PhoneNumber :has
CustomerRepresentative "1"-up->"1" CompanyEmail :has
Customer "1" -right-> "0.*" CustomerRepresentative : has

ShowRequest "1"-->"1" RequestCreationDate :has
ShowRequest "1"-right->"1" RequestShowDate :has
ShowRequest "1"-->"1" RequestDuration :has
ShowRequest "1"-left->"1" RequestPlace :has

ShowProposal "1" --> "1" ProposalStatus :has
ShowProposal "1" --> "1..*" ProposalDronesModel :has
ShowProposal"1" --> "1" ProposedDuration :has
ShowProposal"1" --> "1" ProposedPlace :has
ShowProposal"1" --> "1" ProposedShowDate :has
ShowProposal "1" --> "1" Insurance :has
ShowProposal "1"-left->"0..*" SimulationReport :has
ShowProposal "1"-->"1..*" ProposalFigures : has
SimulationReport "1" -left--> "1" ProposalVideoLink :has
ShowProposal -up-> ProposalDocument :has
DroneTypeSettings "1..*" <-up- "1" ProposalFigures :has
DroneTypeSettings"1..*" -left-> "1" DroneInstructions :has
DroneTypeSettings "1"-->"1" ProposalDronesModel : has
ProposalDronesModel "1" -left-> "1" ProposedNDrones :has
SimulationReport "1"-up->"0..1" SimulationResult :has
SimulationReport "1"-up->"1" ReportPath: has


FigureCategory "1" -right-> "1" FigureCategoryName :has
FigureCategory "1" -up-> "1" FigureCategoryStatus :has
FigureCategory "1" -down-> "1" FigureCategoryCreationDate :has
FigureCategory "1" -down-> "1" FigureCategoryLastdateDate :has

Figure "1"-->"1" figureVersion: has
Figure "1"-->"1" dslVersion: has
Figure "1"-->"1" CodePath: has
Figure "1"-->"1..*" Keyword: has
Figure "1"--> "1" Description: has


Drone "1" --> "1" SerialNumber : has
Drone "1" -->"1" DroneStatus :has
Drone "1" -->"0..1" DroneRemovalDate :has

DroneModel "1"-->"1" DroneLanguage : has
DroneModel "1" -down-> "1" WindToleranceProfile :has

WindToleranceProfile "1"-->"1..*" WindToleranceStep :has

MaintenanceRecord "1" --> "1" MaintenanceRecordDate:has


MaintenanceType "1" --> "1" MaintenanceTypeName:has
MaintenanceRecord "1" --> "1" MaintenanceRecordDuration:has
MaintenanceRecord "0..1" --> "1" MaintenanceRecordDescription:has


'--------------------- AGGREGATES RELATIONS -----------------------

ShowRequest "*" -up-> Customer :contains

Customer "1" <---- "0..*" Figure :contains

ShowRequest "0..*"-->"0..*" Figure :contains

ProposalFigures "0..*"-up->"1" Figure : contains

Figure "0..*" -right-> "1" FigureCategory :belongs

ProposalDronesModel "0..*" -right-> "1" DroneModel : contains

DroneModel "1" -right->"1..*" Drone : contains

Drone "1" -right-> "0..*" MaintenanceRecord :has

MaintenanceRecord "*" -right-> "1" MaintenanceType:has

ShowRequest "1" ---> "0..*" ShowProposal :contains

ProposalDocument "1"-up->"1" ProposalDocumentTemplate : follows

@enduml
